{{ if isset site.Taxonomies "categories" }}
  {{ if not (eq (len site.Taxonomies.categories) 0) }}
    <div class="mb-0">
      <div class="bg-light dark:bg-darkmode-light rounded p-6">
        <h5 class="mb-6">{{ T "categories" }}</h5>
        <ul>
          {{ range $name, $items := sort site.Taxonomies.categories "Count" "desc"}}
            <li class="inline-block">
              <a
                class="hover:bg-primary dark:bg-darkmode-body dark:hover:bg-darkmode-primary dark:hover:text-text-dark {{ if (and (eq $.Page.Kind `term`) (eq $.Page.Type `categories`) (eq $.Page.Title .Page.Title)) }}
                  active
                {{ end }} m-1 block rounded bg-white px-3 py-1 hover:text-white"
                href="{{ .Page.RelPermalink }}">
                <i class="fa-solid fa-layer-group mr-1"></i> {{ .Page.Title }} <span>({{len $items}})</span>
              </a>
            </li>
          {{ end }}
        </ul>
      </div>
    </div>
  {{ end }}
{{ end }}